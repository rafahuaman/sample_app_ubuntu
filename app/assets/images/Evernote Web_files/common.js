define("common",["jquery","domReady!"],function(b){String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});if(!Object.keys){var o=Object,l=Object.prototype.hasOwnProperty,p=!{toString:null}.propertyIsEnumerable("toString"),k="toString toLocaleString valueOf hasOwnProperty isPrototypeOf propertyIsEnumerable constructor".split(" "),q=k.length;o.keys=function(a){if(typeof a!=="object"&&(typeof a!=="function"||a===null))throw new TypeError("Object.keys called on non-object");
var e=[],d;for(d in a)l.call(a,d)&&e.push(d);if(p)for(d=0;d<q;d++)l.call(a,k[d])&&e.push(k[d]);return e}}Array.prototype.map||(Array.prototype.map=function(a,e){var d,b,f;if(this==null)throw new TypeError(" this is null or not defined");var c=Object(this),i=c.length>>>0;if({}.toString.call(a)!="[object Function]")throw new TypeError(a+" is not a function");e&&(d=e);b=Array(i);for(f=0;f<i;){var j;if(f in c){j=c[f];j=a.call(d,j,f,c);b[f]=j}f++}return b});Array.prototype.reduce||(Array.prototype.reduce=
function(a){if(this===null||this===void 0)throw new TypeError("Object is null or undefined");var e=0,d=this.length>>0,b;if(typeof a!=="function")throw new TypeError("First argument is not callable");if(arguments.length<2){if(d===0)throw new TypeError("Array length is 0 and no second argument");b=this[0];e=1}else b=arguments[1];for(;e<d;){e in this&&(b=a.call(void 0,b,this[e],e,this));++e}return b});Array.prototype.filter||(Array.prototype.filter=function(a){return Array.prototype.reduce(function(e,
b){a(b)&&e.push(b);return e},[])});Array.prototype.forEach||(Array.prototype.forEach=function(a,e){var b,c;if(this==null)throw new TypeError("this is null or not defined");var f,h=Object(this),i=h.length>>>0;if({}.toString.call(a)!=="[object Function]")throw new TypeError(a+" is not a function");arguments.length>=2&&(b=e);for(c=0;c<i;){if(c in h){f=h[c];a.call(b,f,c,h)}c++}});Array.prototype.every||(Array.prototype.every=function(a,b){var d,c,f;if(this==null)throw new TypeError;d=Object(this);c=d.length>>>
0;if(typeof a!=="function")throw new TypeError;for(f=0;f<c;f++)if(f in d&&!a.call(b,d[f],f,d))return false;return true});Function.prototype.bind||(Function.prototype.bind=function(a){if(typeof this!=="function")throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var b=Array.prototype.slice.call(arguments,1),d=this,c=function(){},f=function(){return d.apply(this instanceof c&&a?this:a,b.concat(Array.prototype.slice.call(arguments)))};c.prototype=this.prototype;
f.prototype=new c;return f});var c={FADE_SPEED:300,addClickOut:function(a,e,c){a=b(a);b(document).click(function(g){if(!b(g.target).parents().andSelf().is(a)&&a.is(":visible")){if(c!=null){var f=false;b(c).each(function(){var a=b(this);if(b(g.target).parents().andSelf().is(a)){f=true;return false}});if(f)return}e()}})}},m=function(a,b){var d=false,g=function(f){if(d===false&&f.which!=13){a.removeClass("error");b.fadeOut(c.FADE_SPEED,function(){window.parent&&window.parent.feedbackErrorRemoveCallback?
window.parent.feedbackErrorRemoveCallback():window.feedbackErrorRemoveCallback&&window.feedbackErrorRemoveCallback()});d=true}};a.is("select")||a.is(":checkbox")?a.bind("change",g):a.bind("keyup",g)};c.addErrorClearer=function(a,e){a=b(a);typeof e==="undefined"&&(e=a.nextAll(".error-status").first());m(a,e)};c.clearError=function(a,e){var c=b(a),g=b(e);c.removeClass("error");g.children(".error-status").remove()};c.setError=function(a,e,c,g){var a=b(a),e=b(e),f=e.children(".error-status");f.size()>
0?g?f.html(f.html()+"\n"+c):f.html(c):e.html('<div class="error-status">'+c+"</div>");a.addClass("error");f.show()};var n=function(a,c){a=b(a);a.on(c,function(){if(b(this).data("blockDoubleSubmit_submitPressed"))return false;b(this).data("blockDoubleSubmit_submitPressed",true)})};c.blockDoubleSubmit=function(a){n(a,"submit.blockDoubleSubmit")};c.unblockDoubleSubmit=function(a){a=b(a);a.off("submit.blockDoubleSubmit")};c.blockDoubleClick=function(a){n(a,"click.blockDoubleClick")};c.unblockDoubleClick=
function(a){a=b(a);a.off("click.blockDoubleClick")};c.center=function(a,e){a=b(a);e==null&&(e=false);e&&b(window).resize(function(){c.center(a,false)});a.css("position","absolute");a.css("left",(b(window).width()-a.outerWidth())/2+b(window).scrollLeft()+"px");if(a.height()>=b(window).height()){a.css("top","0px");b("body").css("min-height",a.height()+"px")}else a.css("top",(b(window).height()-a.outerHeight())/2+b(window).scrollTop()+"px");return a};c.loadCss=function(a){var b=document.createElement("link");
b.type="text/css";b.rel="stylesheet";b.href=a;document.getElementsByTagName("head")[0].appendChild(b)};c.addPlaceholderText=function(a,e,d){if("placeholder"in document.createElement("input"))a.attr("placeholder",e);else if(!a.is(":focus")){var g=function(){if(c.isIE&&a.attr("type")==="password"){var d=b("#passwordInputDummy");if(d.length){d.remove();a.show();a.focus()}}else a.val()===e&&a.val("")},f=function(){if(a.val().length===0)if(c.isIE&&a.attr("type")==="password"){a.after("<input id='passwordInputDummy' class='text' type='text'></input>");
a.hide();var d=b("#passwordInputDummy");d.bind("focus",function(){g()});d.val(e);d.addClass("placeholder-input")}else{a.val(e);a.addClass("placeholder-input")}};f();c.isIE&&a.attr("type")==="password"||a.bind("focus",function(){a.removeClass("placeholder-input");g()});d||a.bind("blur",f);a.parents("form").bind("submit",function(){g()});b(window).bind("unload",function(){g()})}};c.forceContainerRefresh=function(a){a.each(function(){this.className=this.className})};var r={"&":"&amp;","<":"&lt;",">":"&gt;",
'"':"&quot;","'":"&#39;"};c.escapeHTML=function(a){return String(a).replace(/&(?!\w+;)|[<>"']/g,function(a){return r[a]||a})};c.disableSelectOptions=function(a){var a=b(a),c=a.get(0);b("option[disabled]",a).css({color:"#cccccc"});a.change(function(){if(this.selectedIndex==-1){do{this.selectedIndex++;if(this.selectedIndex==this.options.length){this.selectedIndex=0;return}}while(this.options[this.selectedIndex].disabled)}if(this.options[this.selectedIndex].disabled){this.options.length==0?this.selectedIndex=
-1:this.selectedIndex--;b(this).trigger("change")}});if(c.selectedIndex>=0&&c.options[c.selectedIndex].disabled)c.onchange()};c.errorField=function(a,e,d,g){typeof g==="undefined"&&(g=true);a=b(a);d||(d=typeof a.next().attr("error-field")!=="undefined"?a.next():b("<div error-field></div>").insertAfter(a));c.setError(a,d,e,g);m(a,d.children())};c.clearErrorFields=function(){b("input").removeClass("error");b("[error-field]").children(".error-status").remove()};try{c.isIE7=b("html.ie7").length||b("html.ie7",
window.parent.document).length,c.isIE8=b("html.ie8").length||b("html.ie8",window.parent.document).length,c.isIE9=b("html.ie9").length||b("html.ie9",window.parent.document).length,c.isIE=c.isIE7||c.isIE8||c.isIE9,c.isIE10=b("html.ie10").length||b("html.ie10",window.parent.document).length}catch(s){}c.isIPad=-1!=navigator.userAgent.indexOf("iPad");c.centerElement=function(a){a=b(a);a.css({top:"50%",left:"50%","margin-top":a.height()/-2,"margin-left":a.width()/-2})};c.multilineOverflow=function(a,c,
d){var g=d?b(a).find(d).text():b(a).text();if(g)for(var f=g.length;a.scrollHeight>c;){if(f<=0){d?b(a).find(d).text(g):b(a).text(g);break}var h=d?b(a).find(d).text():b(a).text(),h=h.substring(0,h.lastIndexOf(" "));d?b(a).find(d).text(h+"..."):b(a).text(h+"...");f--}};return c});